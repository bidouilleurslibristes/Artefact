# Artefact single page website

## Attribution

Theme and original code comes from here : https://github.com/laklau/agency-jekyll-theme


## Technical aspects

The site is a single static page generated with Jekyll.

Clone the repo, do the installation steps and everything should run nice and clean.


## Installation

You need `ruby`, `Jekyll` and maybe node (...) for SASS processing.

If your distribution `ruby` is too old (for instance on Ubuntu 14.04) you can use the following steps

    sudo apt-add-repository ppa:brightbox/ruby-ng
    sudo apt-get update
    sudo apt-get install ruby2.2 ruby2.2-dev
    sudo gem install jekyll bundler # I don't really understand what's this bundler hype (it must be a kind of ruby virtualenv)
    sudo bundle install  # Shouldn't need sudo, but works nonetheless

    # you may need imagemagick if you want to optimize pictures
    sudo apt-get install imagemagick
    # something like this should do the work...  http://stackoverflow.com/questions/7048406/image-magick-image-optimization-for-websites
    for X in *.jpg; do convert "$X" -resize 1200 -strip -quality 80 "$X"; done



## Compilation and serving

    bundle exec jekyll serve --no-watch

## Update site

You have to modify 3 kinds of files :

  * `_data/*.yml` : contains the variables used in the templates
  * `_includes/*.html` : contains the template generating the final HTML
  * `_layouts/single-page.html` : contains the order of the elements in the page

If you want to add something, first check in the HTML files if it is generated by some variables, if it is the case, you can change the corresponding yml file directly. This is useful to add a team member or a new exposition, change a typo in the texts... without touching the fragile and beautifully crated HTML.

If you have to add some new informations or change layout, nevertheless, you have to change the HTML. The theme uses bootstrap so check that the site is still responsive.

The compilation takes place on github servers, so IN THEORY you don't need to build the site on your computer if you don't want. Nevertheless, don't forget that you change the site in production with non tested updates and that it will slow down considerably the update loop (you need to wait for github update, approx 30s-1min).